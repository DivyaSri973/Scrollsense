<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ScrollSense Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="options-container">
    <header class="options-header">
      <h1>ScrollSense Settings</h1>
      <p class="header-subtitle">Manage your social media time with personalized controls</p>
    </header>
    
    <div class="options-content">
      <!-- Navigation Tabs -->
      <nav class="options-nav">
        <button class="nav-tab active" data-tab="dashboard">Dashboard</button>
        <button class="nav-tab" data-tab="goals">Goals</button>
        <button class="nav-tab" data-tab="limits">Time Limits</button>
        <button class="nav-tab" data-tab="preferences">Preferences</button>
        <button class="nav-tab" data-tab="api">API Settings</button>
        <button class="nav-tab" data-tab="insights">AI Insights</button>
      </nav>
      
      <!-- Dashboard Tab -->
      <div class="tab-content active" id="dashboard-tab">
        <section class="options-section">
          <h2>Today's Summary</h2>
          <div class="dashboard-stats">
            <div class="stat-card">
              <div class="stat-label">Total Time</div>
              <div class="stat-value" id="dashboard-total">0 min</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Sessions</div>
              <div class="stat-value" id="dashboard-sessions">0</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Platforms Used</div>
              <div class="stat-value" id="dashboard-platforms">0</div>
            </div>
          </div>
          
          <h2 style="margin-top: 32px;">Platform Breakdown</h2>
          <div class="platform-chart" id="platform-chart">
            <!-- Chart will be inserted here -->
          </div>
          
          <h2 style="margin-top: 32px;">Recent Sessions</h2>
          <div class="sessions-list" id="sessions-list">
            <!-- Sessions will be inserted here -->
          </div>
        </section>
      </div>
      
      <!-- Goals Tab -->
      <div class="tab-content" id="goals-tab">
        <section class="options-section">
          <h2>Your Goals</h2>
          <p class="section-description">Set up to 3 personal goals to help stay focused</p>
          
          <div class="goals-list" id="goals-list">
            <!-- Goals will be inserted here -->
          </div>
          
          <button id="add-goal-btn" class="btn btn-secondary">+ Add Goal</button>
          
          <div id="goal-input-container" style="display: none; margin-top: 16px;">
            <input type="text" id="goal-input" class="input" placeholder="Enter your goal (e.g., Finish thesis, Apply to 5 jobs)">
            <div class="input-actions">
              <button id="save-goal-btn" class="btn btn-primary">Save</button>
              <button id="cancel-goal-btn" class="btn btn-secondary">Cancel</button>
            </div>
          </div>
        </section>
      </div>
      
      <!-- Limits Tab -->
      <div class="tab-content" id="limits-tab">
        <section class="options-section">
          <h2>Platform Time Limits</h2>
          <p class="section-description">Set default time limits for each platform (in minutes)</p>
          
          <div class="limits-list">
            <div class="limit-item">
              <div class="limit-info">
                <span class="limit-platform">Instagram</span>
                <span class="limit-description">Focus on Reels addiction</span>
              </div>
              <input type="number" id="limit-instagram" class="limit-input" min="5" max="120" step="5" value="10">
              <span class="limit-unit">min</span>
            </div>
            
            <div class="limit-item">
              <div class="limit-info">
                <span class="limit-platform">LinkedIn</span>
                <span class="limit-description">Professional networking</span>
              </div>
              <input type="number" id="limit-linkedin" class="limit-input" min="5" max="120" step="5" value="30">
              <span class="limit-unit">min</span>
            </div>
            
            <div class="limit-item">
              <div class="limit-info">
                <span class="limit-platform">Reddit</span>
                <span class="limit-description">Mixed educational/entertainment</span>
              </div>
              <input type="number" id="limit-reddit" class="limit-input" min="5" max="120" step="5" value="15">
              <span class="limit-unit">min</span>
            </div>
          </div>
          
          <div class="daily-limit-section">
            <h3>Daily Limit</h3>
            <p class="section-description">Total time across all platforms per day</p>
            <div class="daily-limit-input">
              <input type="number" id="daily-limit" class="limit-input" min="30" max="480" step="30" value="120">
              <span class="limit-unit">min</span>
            </div>
          </div>
          
          <button id="save-limits-btn" class="btn btn-primary">Save Limits</button>
        </section>
      </div>
      
      <!-- Preferences Tab -->
      <div class="tab-content" id="preferences-tab">
        <section class="options-section">
          <h2>Preferences</h2>
          
          <div class="preference-group">
            <label class="preference-label">Blur Intensity</label>
            <p class="preference-description">How much the screen blurs after time limit (0-100%)</p>
            <div class="slider-container">
              <input type="range" id="blur-intensity" class="slider" min="0" max="100" value="50" step="10">
              <span class="slider-value" id="blur-value">50%</span>
            </div>
          </div>
          
          <div class="preference-group">
            <label class="preference-label">Message Tone</label>
            <p class="preference-description">Tone of AI-generated reminders</p>
            <div class="radio-group">
              <label class="radio-label">
                <input type="radio" name="message-tone" value="encouraging" checked>
                <span>Encouraging ("You've got this!")</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="message-tone" value="neutral">
                <span>Neutral ("Time check")</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="message-tone" value="direct">
                <span>Direct ("Back to work")</span>
              </label>
            </div>
          </div>
          
          <button id="save-preferences-btn" class="btn btn-primary">Save Preferences</button>
        </section>
      </div>
      
      <!-- API Settings Tab -->
      <div class="tab-content" id="api-tab">
        <section class="options-section">
          <h2>AI Integration</h2>
          <p class="section-description">Configure Groq (GroqCloud) for personalized nudges (optional)</p>
          
          <div class="api-info">
            <p>ScrollSense uses Groq's fast, efficient GenAI models to generate personalized, context-aware reminders based on your goals and usage patterns.</p>
            <p style="margin-top: 8px;"><strong>Privacy:</strong> Your API key is stored locally and never shared. All data stays on your device.</p>
          </div>
          
          <div class="input-group">
            <label for="api-key" class="input-label">Groq API Key</label>
            <input type="password" id="api-key" class="input" placeholder="gsk_...">
            <p class="input-hint">Get your API key from the <a href="https://console.groq.com/" target="_blank">Groq Console</a></p>
          </div>
          
          <button id="save-api-btn" class="btn btn-primary">Save API Key</button>
          
          <div class="api-status" id="api-status" style="display: none;">
            <p class="status-message"></p>
          </div>
        </section>
      </div>
      
      <!-- AI Insights Tab -->
      <div class="tab-content" id="insights-tab">
        <section class="options-section">
          <h2>üìä AI-Powered Usage Insights</h2>
          <p class="section-description">Discover patterns in your social media usage with AI-generated analysis</p>
          
          <!-- Data Controls -->
          <div class="insights-controls">
            <button id="load-demo-data-btn" class="btn btn-secondary">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle; margin-right: 6px;">
                <path d="M8 1V5M8 5L6 3M8 5L10 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <rect x="2" y="6" width="12" height="8" rx="2" stroke="currentColor" stroke-width="1.5"/>
                <circle cx="5" cy="10" r="1" fill="currentColor"/>
                <circle cx="8" cy="10" r="1" fill="currentColor"/>
                <circle cx="11" cy="10" r="1" fill="currentColor"/>
              </svg>
              Load Demo Data
            </button>
            <button id="analyze-trends-btn" class="btn btn-primary">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle; margin-right: 6px;">
                <path d="M2 14L6 9L9 12L14 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10 5H14V9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Analyze My Trends
            </button>
            <button id="clear-insights-data-btn" class="btn btn-danger">
              Clear Data
            </button>
          </div>
          
          <!-- Weekly Stats Overview -->
          <div class="insights-section">
            <h3>üìà Weekly Overview</h3>
            <div class="weekly-stats-grid" id="weekly-stats-grid">
              <div class="weekly-stat-card">
                <div class="weekly-stat-icon">‚è±Ô∏è</div>
                <div class="weekly-stat-value" id="weekly-total-time">--</div>
                <div class="weekly-stat-label">Total Time</div>
              </div>
              <div class="weekly-stat-card">
                <div class="weekly-stat-icon">üì±</div>
                <div class="weekly-stat-value" id="weekly-sessions">--</div>
                <div class="weekly-stat-label">Sessions</div>
              </div>
              <div class="weekly-stat-card">
                <div class="weekly-stat-icon">üéØ</div>
                <div class="weekly-stat-value" id="weekly-goal-adherence">--</div>
                <div class="weekly-stat-label">Goal Adherence</div>
              </div>
              <div class="weekly-stat-card">
                <div class="weekly-stat-icon">üìä</div>
                <div class="weekly-stat-value" id="weekly-avg-session">--</div>
                <div class="weekly-stat-label">Avg Session</div>
              </div>
            </div>
          </div>
          
          <!-- Trend Chart -->
          <div class="insights-section">
            <h3>üìâ 7-Day Usage Trend</h3>
            <div class="trend-chart-container" id="trend-chart">
              <div class="trend-chart-placeholder">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4 38L16 26L24 34L44 10" stroke="#9ca3af" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M34 10H44V20" stroke="#9ca3af" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <p>Load data to see your usage trends</p>
              </div>
            </div>
          </div>
          
          <!-- Platform Comparison -->
          <div class="insights-section">
            <h3>üîÑ Platform Comparison</h3>
            <div class="platform-comparison" id="platform-comparison">
              <div class="platform-comparison-placeholder">
                <p>Load data to compare platform usage</p>
              </div>
            </div>
          </div>
          
          <!-- AI Analysis -->
          <div class="insights-section ai-analysis-section">
            <h3>ü§ñ AI Analysis</h3>
            <div class="ai-analysis-container" id="ai-analysis">
              <div class="ai-analysis-placeholder">
                <div class="ai-sparkle">‚ú®</div>
                <p>Click "Analyze My Trends" to get personalized AI insights about your usage patterns, habits, and recommendations.</p>
                <span class="ai-note">Requires Groq API key in API Settings</span>
              </div>
            </div>
          </div>
          
          <!-- Usage Patterns -->
          <div class="insights-section">
            <h3>üïê Peak Usage Hours</h3>
            <div class="hourly-heatmap" id="hourly-heatmap">
              <div class="hourly-heatmap-placeholder">
                <p>Load data to see your peak usage hours</p>
              </div>
            </div>
          </div>
          
          <!-- Behavior Insights -->
          <div class="insights-section">
            <h3>üí° Quick Insights</h3>
            <div class="quick-insights" id="quick-insights">
              <div class="quick-insights-placeholder">
                <p>Load data to see behavioral insights</p>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
  
  <script src="options.js"></script>
</body>
</html>

