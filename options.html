<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ScrollSense Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="options-container">
    <header class="options-header">
      <h1>ScrollSense Settings</h1>
      <p class="header-subtitle">Manage your social media time with personalized controls</p>
    </header>
    
    <div class="options-content">
      <!-- Navigation Tabs -->
      <nav class="options-nav">
        <button class="nav-tab active" data-tab="dashboard">Dashboard</button>
        <button class="nav-tab" data-tab="goals">Goals</button>
        <button class="nav-tab" data-tab="limits">Time Limits</button>
        <button class="nav-tab" data-tab="preferences">Preferences</button>
        <button class="nav-tab" data-tab="api">Smart Reminders</button>
        <button class="nav-tab" data-tab="insights">AI Insights</button>
      </nav>
      
      <!-- Dashboard Tab -->
      <div class="tab-content active" id="dashboard-tab">
        <section class="options-section">
          <h2>Today's Summary</h2>
          <div class="dashboard-stats">
            <div class="stat-card">
              <div class="stat-label">Total Time</div>
              <div class="stat-value" id="dashboard-total">0 min</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Sessions</div>
              <div class="stat-value" id="dashboard-sessions">0</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Platforms Used</div>
              <div class="stat-value" id="dashboard-platforms">0</div>
            </div>
          </div>
          
          <h2 style="margin-top: 32px;">Platform Breakdown</h2>
          <div class="platform-chart" id="platform-chart">
            <!-- Chart will be inserted here -->
          </div>
          
          <h2 style="margin-top: 32px;">Recent Sessions</h2>
          <div class="sessions-list" id="sessions-list">
            <!-- Sessions will be inserted here -->
          </div>
        </section>
      </div>
      
      <!-- Goals Tab -->
      <div class="tab-content" id="goals-tab">
        <section class="options-section">
          <h2>Your Goals</h2>
          <p class="section-description">Set up to 3 personal goals to help stay focused</p>
          
          <div class="goals-list" id="goals-list">
            <!-- Goals will be inserted here -->
          </div>
          
          <button id="add-goal-btn" class="btn btn-secondary">+ Add Goal</button>
          
          <div id="goal-input-container" style="display: none; margin-top: 16px;">
            <input type="text" id="goal-input" class="input" placeholder="Enter your goal (e.g., Finish thesis, Apply to 5 jobs)">
            <div class="input-actions">
              <button id="save-goal-btn" class="btn btn-primary">Save</button>
              <button id="cancel-goal-btn" class="btn btn-secondary">Cancel</button>
            </div>
          </div>
        </section>
      </div>
      
      <!-- Limits Tab -->
      <div class="tab-content" id="limits-tab">
        <section class="options-section">
          <h2>Platform Time Limits</h2>
          <p class="section-description">Set default time limits for each platform (in minutes)</p>
          
          <div class="limits-list">
            <div class="limit-item">
              <div class="limit-info">
                <span class="limit-platform">Instagram</span>
                <span class="limit-description">Focus on Reels addiction</span>
              </div>
              <input type="number" id="limit-instagram" class="limit-input" min="5" max="120" step="5" value="10">
              <span class="limit-unit">min</span>
            </div>
            
            <div class="limit-item">
              <div class="limit-info">
                <span class="limit-platform">LinkedIn</span>
                <span class="limit-description">Professional networking</span>
              </div>
              <input type="number" id="limit-linkedin" class="limit-input" min="5" max="120" step="5" value="30">
              <span class="limit-unit">min</span>
            </div>
            
            <div class="limit-item">
              <div class="limit-info">
                <span class="limit-platform">Reddit</span>
                <span class="limit-description">Mixed educational/entertainment</span>
              </div>
              <input type="number" id="limit-reddit" class="limit-input" min="5" max="120" step="5" value="15">
              <span class="limit-unit">min</span>
            </div>
          </div>
          
          <div class="daily-limit-section">
            <h3>Daily Limit</h3>
            <p class="section-description">Total time across all platforms per day</p>
            <div class="daily-limit-input">
              <input type="number" id="daily-limit" class="limit-input" min="30" max="480" step="30" value="120">
              <span class="limit-unit">min</span>
            </div>
          </div>
          
          <button id="save-limits-btn" class="btn btn-primary">Save Limits</button>
        </section>
      </div>
      
      <!-- Preferences Tab -->
      <div class="tab-content" id="preferences-tab">
        <section class="options-section">
          <h2>Preferences</h2>
          
          <div class="preference-group">
            <label class="preference-label">Blur Intensity</label>
            <p class="preference-description">How much the screen blurs after time limit (0-100%)</p>
            <div class="slider-container">
              <input type="range" id="blur-intensity" class="slider" min="0" max="100" value="50" step="10">
              <span class="slider-value" id="blur-value">50%</span>
            </div>
          </div>
          
          <div class="preference-group">
            <label class="preference-label">Message Tone</label>
            <p class="preference-description">Tone of AI-generated reminders</p>
            <div class="radio-group">
              <label class="radio-label">
                <input type="radio" name="message-tone" value="encouraging" checked>
                <span>Encouraging ("You've got this!")</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="message-tone" value="neutral">
                <span>Neutral ("Time check")</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="message-tone" value="direct">
                <span>Direct ("Back to work")</span>
              </label>
            </div>
          </div>
          
          <button id="save-preferences-btn" class="btn btn-primary">Save Preferences</button>
        </section>
      </div>
      
      <!-- API Settings Tab - Redesigned for User-Friendliness -->
      <div class="tab-content" id="api-tab">
        <section class="options-section">
          
          <!-- Smart Reminders Header -->
          <div class="smart-reminders-header">
            <div class="smart-icon">âœ¨</div>
            <h2>Smart Reminders</h2>
            <p class="section-description">Get personalized messages that actually understand you</p>
          </div>
          
          <!-- Current Status Card -->
          <div class="smart-status-card" id="smart-status-card">
            <div class="smart-status-icon" id="smart-status-icon">ğŸ’¬</div>
            <div class="smart-status-content">
              <h3 id="smart-status-title">Basic Mode Active</h3>
              <p id="smart-status-desc">Your reminders include your goals and preferences</p>
            </div>
            <div class="smart-status-badge" id="smart-status-badge">Working</div>
          </div>
          
          <!-- Comparison Section -->
          <div class="reminder-comparison">
            <h3>See the Difference</h3>
            <div class="comparison-cards">
              <div class="comparison-card basic">
                <div class="comparison-header">
                  <span class="comparison-badge">ğŸ’¬ Basic Mode</span>
                  <span class="comparison-tag">Always Available</span>
                </div>
                <div class="comparison-example">
                  <p id="basic-example">"You've been scrolling 12 min. Ready to work on your goals? ğŸ’ª"</p>
                </div>
                <ul class="comparison-features">
                  <li>âœ“ Uses your personal goals</li>
                  <li>âœ“ Tracks your session time</li>
                  <li>âœ“ Matches your preferred tone</li>
                  <li>âœ— Same message patterns</li>
                </ul>
              </div>
              
              <div class="comparison-card smart">
                <div class="comparison-header">
                  <span class="comparison-badge">âœ¨ Smart Mode</span>
                  <span class="comparison-tag">AI-Powered</span>
                </div>
                <div class="comparison-example">
                  <p id="smart-example">"Hey! 12 minutes on Instagram - your thesis chapter on methodology is waiting. You've got this! ğŸ“š"</p>
                </div>
                <ul class="comparison-features">
                  <li>âœ“ Everything in Basic, plus:</li>
                  <li>âœ“ Unique messages every time</li>
                  <li>âœ“ Contextually aware</li>
                  <li>âœ“ Feels like a supportive friend</li>
                </ul>
              </div>
            </div>
          </div>
          
          <!-- Try Demo Button -->
          <div class="demo-section">
            <button id="preview-ai-btn" class="btn btn-demo">
              <span class="btn-icon">ğŸ¯</span>
              Preview Smart Reminder
            </button>
            <p class="demo-hint">See what a personalized AI message looks like for you</p>
          </div>
          
          <!-- Demo Preview Modal (hidden by default) -->
          <div class="demo-preview" id="demo-preview" style="display: none;">
            <div class="demo-preview-header">
              <span class="demo-badge">âœ¨ ScrollSense AI</span>
              <button class="demo-close" id="demo-close">Ã—</button>
            </div>
            <div class="demo-preview-content">
              <p id="demo-message">Loading...</p>
            </div>
            <div class="demo-preview-footer">
              <span>This is what you'd see when your time is up</span>
            </div>
          </div>
          
          <!-- Setup Section -->
          <div class="setup-section" id="setup-section">
            <div class="setup-header">
              <h3>ğŸš€ Enable Smart Mode</h3>
              <p>Free setup â€¢ Takes 2 minutes â€¢ No credit card needed</p>
            </div>
            
            <!-- Setup Wizard -->
            <div class="setup-wizard" id="setup-wizard">
              <!-- Step 1 -->
              <div class="wizard-step" id="wizard-step-1">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h4>Create a Free Account</h4>
                  <p>Groq provides free AI that powers your smart reminders</p>
                  <div class="step-action">
                    <a href="https://console.groq.com/" target="_blank" class="btn btn-primary" id="open-groq-btn">
                      Open Groq (Free) â†’
                    </a>
                  </div>
                  <div class="step-details">
                    <span class="detail-item">âœ“ Sign up with Google or Email</span>
                    <span class="detail-item">âœ“ No payment required</span>
                    <span class="detail-item">âœ“ Takes 30 seconds</span>
                  </div>
                </div>
              </div>
              
              <!-- Step 2 -->
              <div class="wizard-step" id="wizard-step-2">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h4>Get Your Personal Key</h4>
                  <p>This connects ScrollSense to the AI</p>
                  <div class="step-instructions">
                    <div class="instruction-item">
                      <span class="instruction-num">a.</span>
                      <span>In Groq, click <strong>"API Keys"</strong> in the left menu</span>
                    </div>
                    <div class="instruction-item">
                      <span class="instruction-num">b.</span>
                      <span>Click <strong>"Create API Key"</strong></span>
                    </div>
                    <div class="instruction-item">
                      <span class="instruction-num">c.</span>
                      <span>Give it a name like "ScrollSense"</span>
                    </div>
                    <div class="instruction-item">
                      <span class="instruction-num">d.</span>
                      <span>Copy the key (starts with <code>gsk_</code>)</span>
                    </div>
                  </div>
                  <button class="btn btn-secondary btn-small" id="show-visual-guide">
                    ğŸ“¸ Show me where (screenshot)
                  </button>
                </div>
              </div>
              
              <!-- Step 3 -->
              <div class="wizard-step" id="wizard-step-3">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h4>Paste Your Key Here</h4>
                  <p>Almost done! Just paste and save.</p>
                  <div class="key-input-group">
                    <input type="password" id="api-key" class="input key-input" placeholder="Paste your key here (gsk_...)">
                    <button class="btn btn-icon-only" id="toggle-key-visibility" title="Show/hide key">
                      ğŸ‘ï¸
                    </button>
                  </div>
                  <button id="save-api-btn" class="btn btn-primary btn-save-key">
                    <span class="btn-text">Save & Enable Smart Mode</span>
                    <span class="btn-loading" style="display: none;">Verifying...</span>
                  </button>
                </div>
              </div>
            </div>
            
            <!-- Success/Error Status -->
            <div class="setup-status" id="setup-status" style="display: none;">
              <div class="status-icon" id="status-icon">âœ“</div>
              <div class="status-content">
                <h4 id="status-title">Smart Mode Enabled!</h4>
                <p id="status-message">Your reminders are now AI-powered and personalized.</p>
              </div>
            </div>
          </div>
          
          <!-- Already Configured Section -->
          <div class="configured-section" id="configured-section" style="display: none;">
            <div class="configured-card">
              <div class="configured-icon">âœ…</div>
              <div class="configured-content">
                <h3>Smart Mode is Active</h3>
                <p>Your reminders are AI-powered and personalized</p>
              </div>
            </div>
            <div class="configured-actions">
              <button class="btn btn-secondary" id="test-connection-btn">Test Connection</button>
              <button class="btn btn-danger-outline" id="remove-key-btn">Remove Key</button>
            </div>
          </div>
          
          <!-- Privacy & Trust Section -->
          <div class="privacy-section">
            <h4>ğŸ”’ Your Privacy is Protected</h4>
            <div class="privacy-items">
              <div class="privacy-item">
                <span class="privacy-icon">ğŸ </span>
                <span>Your key stays on your device only</span>
              </div>
              <div class="privacy-item">
                <span class="privacy-icon">ğŸš«</span>
                <span>We never see or store your key</span>
              </div>
              <div class="privacy-item">
                <span class="privacy-icon">ğŸ“</span>
                <span>Only your goals & time are sent for messages</span>
              </div>
              <div class="privacy-item">
                <span class="privacy-icon">ğŸ—‘ï¸</span>
                <span>Remove your key anytime</span>
              </div>
            </div>
          </div>
          
          <!-- FAQ Section -->
          <div class="faq-section">
            <h4>Common Questions</h4>
            <div class="faq-items">
              <details class="faq-item">
                <summary>What is Groq?</summary>
                <p>Groq is a company that provides fast, free AI services. Think of it like a smart assistant that helps write your reminder messages. It's completely free for personal use.</p>
              </details>
              <details class="faq-item">
                <summary>Is it really free?</summary>
                <p>Yes! Groq offers generous free usage that's more than enough for ScrollSense. You don't need to enter any payment information.</p>
              </details>
              <details class="faq-item">
                <summary>What if I don't set this up?</summary>
                <p>ScrollSense works great without it! You'll still get helpful reminders based on your goals - they'll just follow set patterns instead of being uniquely generated each time.</p>
              </details>
              <details class="faq-item">
                <summary>Can I remove this later?</summary>
                <p>Absolutely! You can remove your key anytime and ScrollSense will switch back to basic mode automatically.</p>
              </details>
            </div>
          </div>
          
        </section>
      </div>
      
      <!-- AI Insights Tab -->
      <div class="tab-content" id="insights-tab">
        <section class="options-section">
          <h2>ğŸ“Š AI-Powered Usage Insights</h2>
          <p class="section-description">Discover patterns in your social media usage with AI-generated analysis</p>
          
          <!-- Data Controls -->
          <div class="insights-controls">
            <button id="load-demo-data-btn" class="btn btn-secondary">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle; margin-right: 6px;">
                <path d="M8 1V5M8 5L6 3M8 5L10 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <rect x="2" y="6" width="12" height="8" rx="2" stroke="currentColor" stroke-width="1.5"/>
                <circle cx="5" cy="10" r="1" fill="currentColor"/>
                <circle cx="8" cy="10" r="1" fill="currentColor"/>
                <circle cx="11" cy="10" r="1" fill="currentColor"/>
              </svg>
              Load Demo Data
            </button>
            <button id="analyze-trends-btn" class="btn btn-primary">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle; margin-right: 6px;">
                <path d="M2 14L6 9L9 12L14 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10 5H14V9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Analyze My Trends
            </button>
            <button id="clear-insights-data-btn" class="btn btn-danger">
              Clear Data
            </button>
          </div>
          
          <!-- Weekly Stats Overview -->
          <div class="insights-section">
            <h3>ğŸ“ˆ Weekly Overview</h3>
            <div class="weekly-stats-grid" id="weekly-stats-grid">
              <div class="weekly-stat-card">
                <div class="weekly-stat-icon">â±ï¸</div>
                <div class="weekly-stat-value" id="weekly-total-time">--</div>
                <div class="weekly-stat-label">Total Time</div>
              </div>
              <div class="weekly-stat-card">
                <div class="weekly-stat-icon">ğŸ“±</div>
                <div class="weekly-stat-value" id="weekly-sessions">--</div>
                <div class="weekly-stat-label">Sessions</div>
              </div>
              <div class="weekly-stat-card">
                <div class="weekly-stat-icon">ğŸ¯</div>
                <div class="weekly-stat-value" id="weekly-goal-adherence">--</div>
                <div class="weekly-stat-label">Goal Adherence</div>
              </div>
              <div class="weekly-stat-card">
                <div class="weekly-stat-icon">ğŸ“Š</div>
                <div class="weekly-stat-value" id="weekly-avg-session">--</div>
                <div class="weekly-stat-label">Avg Session</div>
              </div>
            </div>
          </div>
          
          <!-- Trend Chart -->
          <div class="insights-section">
            <h3>ğŸ“‰ 7-Day Usage Trend</h3>
            <div class="trend-chart-container" id="trend-chart">
              <div class="trend-chart-placeholder">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4 38L16 26L24 34L44 10" stroke="#9ca3af" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M34 10H44V20" stroke="#9ca3af" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <p>Load data to see your usage trends</p>
              </div>
            </div>
          </div>
          
          <!-- Platform Comparison -->
          <div class="insights-section">
            <h3>ğŸ”„ Platform Comparison</h3>
            <div class="platform-comparison" id="platform-comparison">
              <div class="platform-comparison-placeholder">
                <p>Load data to compare platform usage</p>
              </div>
            </div>
          </div>
          
          <!-- AI Analysis -->
          <div class="insights-section ai-analysis-section">
            <h3>ğŸ¤– AI Analysis</h3>
            <div class="ai-analysis-container" id="ai-analysis">
              <div class="ai-analysis-placeholder">
                <div class="ai-sparkle">âœ¨</div>
                <p>Click "Analyze My Trends" to get personalized insights about your usage patterns, habits, and recommendations.</p>
                <span class="ai-note">âœ“ Works with or without Smart Mode enabled</span>
              </div>
            </div>
          </div>
          
          <!-- Usage Patterns -->
          <div class="insights-section">
            <h3>ğŸ• Peak Usage Hours</h3>
            <div class="hourly-heatmap" id="hourly-heatmap">
              <div class="hourly-heatmap-placeholder">
                <p>Load data to see your peak usage hours</p>
              </div>
            </div>
          </div>
          
          <!-- Behavior Insights -->
          <div class="insights-section">
            <h3>ğŸ’¡ Quick Insights</h3>
            <div class="quick-insights" id="quick-insights">
              <div class="quick-insights-placeholder">
                <p>Load data to see behavioral insights</p>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
  
  <script src="options.js"></script>
</body>
</html>

